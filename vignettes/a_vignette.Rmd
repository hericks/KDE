---
title: "Introduction to KDE"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Introduction to KDE}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

wat is dat

## Getting started
To load the package with: 
```{r setup}
library(KDE)
```

## General

### Sampling 

### Base structure
Hier kommt eine Erkl√§rung zur S3 struktur


## Kernel Density Estimation

### Builtin Kernels

### The KDE function
```
kernel_density_estimator(kernel, samples, bandwidth=1, subdivisions=100L)
```
## Bandwidth Estimation

Bandwidth estimation is used to choose a bandwidth $\mathcal{h}$ from a given set $\mathcal{H}_n$ to minimize the maximal risk $\mathbb{E}(||\hat{f_h}-f||^2)$, where $\hat{f_h}$ is the KDE with bandwidth $\mathcal{h}$ and $f$ the density estimated. Hence $f$ is unknown it is not possible to calculate the risk directly. Therefore this package provides three methods for choosing the optimal bandwitdth. 

### Logarithmic Bandwidth Set

The function `logarithmic_bandwidth_set` helps choosing a admissible bandwidth set in a given range.  
```{r}
samples <- 1:10
```
```{r}
bandwidths <- logarithmic_bandwidth_set(1/length(samples), 1, 10)
print(bandwidths)
```
Note that for the bandwidth estimations `length.out` has to be less than or equal to `length(samples)`.


### Cross Validation

```
cross_validation(kernel, samples, bandwidths = logarithmic_bandwidth_set(1/length(samples), 1, 10), subdivisions = 100L)
```

### Goldenshluger-Lepski Method

```
goldenschluger_lepski <- function(kernel, samples, bandwidths = logarithmic_bandwidth_set(1/length(samples), 1, 10), kappa = 1.2, subdivisions = 100L)
```

### Penalized Comparison to Overfitting

To get the optimal bandwidth from the given bandwidth set
```
pco_method <- function(kernel, samples, bandwidths = NULL, lambda = 1, subdivisions = 100L)
```

To get a list of the bandwidths and their associated risk values

```
pco_crit <- function(kernel, samples, bandwidths = logarithmic_bandwidth_set(1/length(samples), 1, 10), lambda = 1, subdivisions = 100L)    
```

## Shiny App

## References

## Index

* Kernel 
* Samples
* Bandwidths
* kappa/lambda
* subdivisions
